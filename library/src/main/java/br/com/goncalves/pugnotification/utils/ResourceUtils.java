package br.com.goncalves.pugnotification.utils;

import android.support.annotation.AnyRes;

//partially copied from Android sources (android.content.res.ResourceUtils) as the original implementation is hidden
public class ResourceUtils {
    /**
     * The {@code null} resource ID.
     */
    public static final @AnyRes int ID_NULL = 0;

    /**
     * Checks whether the integer {@code id} is a valid resource ID, as generated by AAPT.
     * <p>Note that a negative integer is not necessarily an invalid resource ID, and custom
     * validations that compare the {@code id} against {@code 0} are incorrect.</p>
     * @param id The integer to validate.
     * @return {@code true} if the integer is a valid resource ID.
     */
    public static boolean isValid(@AnyRes int id) {
        // With the introduction of packages with IDs > 0x7f, resource IDs can be negative when
        // represented as a signed Java int. Some legacy code assumes -1 is an invalid resource ID,
        // despite the existing documentation.
        return id != -1 && (id & 0xff000000) != 0 && (id & 0x00ff0000) != 0;
    }

    public static void assertResouceValid(@AnyRes int id){
        if(!isValid(id)){
            throw new IllegalArgumentException("Resource ID is invalid!");
        }
    }

    private ResourceUtils(){
        //static class
    }
}
